(function initTocaTocaI18n(globalObject) {
  const DEFAULT_LANGUAGE = "es";
  const SUPPORTED_LANGUAGES = ["es", "en", "pt-BR"];
  const LANGUAGE_OPTIONS = [
    { value: "es", label: "\uD83C\uDDEA\uD83C\uDDF8 Espanol" },
    { value: "en", label: "\uD83C\uDDEC\uD83C\uDDE7 English" },
    { value: "pt-BR", label: "\uD83C\uDDE7\uD83C\uDDF7 Portugues (Brasil)" },
  ];

  const TRANSLATIONS = {
    es: {
      app: {
        title: "Toca Toca",
        subtitle: "la suerte es loca",
      },
      language: {
        label: "Idioma",
      },
      status: {
        tapToSpin: "Toca la rula para girar.",
        spinning: "Girando...",
        notEnoughVisibleToSpin: "Mostra al menos 2 participantes visibles para girar.",
        noVisibleSections: "No hay secciones visibles en la rula.",
        noValidWinner: "No se pudo resolver un ganador valido.",
        winner: "Gano {winnerLabel}.",
        retrySpinAgain: "{retryLabel}. Volve a girar.",
        retryNobodyWins: "{retryLabel}. Nadie gana esta ronda.",
        resetAllResult: "Todo restablecido. Listo para girar.",
        resetAppliedResult: "Restablecimiento aplicado: {joined}.",
      },
      messages: {
        addParticipantMax: "Maximo {max} participantes por configuracion.",
        addParticipantSuccess: "Participante agregado y porcentajes equilibrados.",
        autoTuneApplied: "Ajuste aplicado: posicion {position}% y fuente {fontSize}px.",
        autoTuneError: "No se pudo calcular un ajuste automatico.",
        autoTuneNoChange: "La posicion y el tamano ya estaban optimizados.",
        bulkAdded: "Se agregaron {count} participantes desde la lista.",
        bulkNoAdded: "No se agregaron participantes (duplicados o limite alcanzado).",
        bulkNoValidParticipants: "No se encontraron participantes validos en la lista.",
        bulkReplaceNeedsTwo: "Para reemplazar se necesitan al menos 2 participantes validos.",
        bulkReplaceSuccess: "Se reemplazo la lista con {count} participantes.",
        changelogEmpty: "No hay entradas de changelog.",
        changelogLoadError: "No se pudo cargar changelog.md en este entorno.",
        changelogLoading: "Cargando changelog...",
        cookieFallback: "Cookie no disponible. Se guardo en almacenamiento local.",
        easterEggEnabled: "Easter egg argento activado.",
        easterEggReduced: "Easter egg argento activado (animacion reducida).",
        easterEggRequiresIdle: "El easter egg se activa cuando la rula esta quieta.",
        equalizeNeedsTwoVisible: "La rula necesita al menos 2 participantes visibles.",
        equalizeSuccess: "Porcentajes de participantes igualados.",
        exportSuccess: "Backup exportado ({configText}, {statsText}).",
        importAppliedBoth: "Importacion aplicada: configuracion + estadisticas.",
        importAppliedConfig: "Importacion aplicada: configuracion.",
        importAppliedStats: "Importacion aplicada: estadisticas.",
        importFailed: "No se pudo importar el archivo seleccionado.",
        localSaveFailed: "No se pudo guardar la configuracion local.",
        removeNeedsTwo: "No se puede bajar de 2 participantes.",
        removeSuccess: "Participante eliminado.",
        resetAllMessage: "Se restablecio todo.",
        resetAppliedMessage: "Se restablecio {joined}.",
        selectAtLeastOneImportOption: "Selecciona al menos una opcion para importar.",
        spinNeedsTwoVisible: "La rula necesita al menos 2 participantes visibles.",
        spinNoVisibleForWinner: "No hay secciones visibles para girar.",
        spinNotEnoughSections: "No hay suficientes secciones disponibles para girar.",
        spinResolveError: "Ocurrio un problema al registrar el resultado del giro.",
        spinResolveNoSections: "No se pudo resolver resultado porque no hay secciones visibles.",
      },
      labels: {
        defaultParticipant: "Jugador {index}",
        noDate: "Sin fecha",
        noHistory: "Sin historial de salidas.",
        noHistoryYet: "Todavia no hay historial de salidas.",
        noRecentHistoryYet: "Todavia no hay salidas registradas.",
        noStreak: "Sin racha activa.",
        noStreaksRecorded: "Sin rachas registradas.",
        none: "Sin datos",
        onFireStreak: "En racha x{count}.",
        removedFromWheel: "Ya no esta en la ruleta",
        resultRetryLabel: "Tira otra vez",
        retryColor: "Color de la seccion Tira otra vez",
        retryFixedEmoji: "Emoji fijo de la seccion Tira otra vez",
        retryHide: "Ocultar seccion Tira otra vez de la rula",
        retryPct: "Porcentaje de Tira otra vez",
        retryShow: "Mostrar seccion Tira otra vez en la rula",
        showLess: "Ver menos",
        showMore: "Ver mas ({count})",
      },
      controls: {
        durationRandom: "Duracion aleatoria: {min}s - {max}s",
        fontFallback: "Fuente",
        fontSize: "Tamano de fuente: {value}px",
        reduceMotionOff: "Animaciones completas (modo conejo)",
        reduceMotionOn: "Animaciones reducidas (modo tortuga)",
        soundOff: "Silenciar sonido",
        soundOn: "Activar sonido",
        textPosition: "Posicion en la seccion: {value}%",
      },
      table: {
        date: "Fecha",
        player: "Jugador",
        times: "Veces",
        winner: "Ganador",
      },
      resetScopes: {
        config: "configuracion",
        history: "historial",
        users: "usuarios",
      },
      exportFlags: {
        configOff: "sin configuracion",
        configOn: "con configuracion",
        statsOff: "sin estadisticas",
        statsOn: "con estadisticas",
      },
      animations: {
        random: "Aleatorio",
        emojiRain: "Lluvia de emojis (clasica)",
        emojiRainExtreme: "Lluvia de emojis (extrema)",
        emojiHose: "Manguera de emojis",
        fuegosArtificiales: "Fuegos artificiales",
        cartaBlanca: "Carta blanca",
        cartaBlancaFreecell: "Carta blanca (Classic)",
        emojiBounce: "Rebote emoji",
        confeti: "Confeti",
        estrellas: "Estrellas",
        neonPulse: "Pulso neon",
        participantGeneral: "General (usar ajuste global)",
      },
      palettes: {
        vibrante: "Vibrante",
        pastel: "Pastel",
        calida: "Calida",
        fria: "Fria",
        tierra: "Tierra",
        neon: "Neon",
        gris: "Escala de grises",
      },
      emojis: {
        chooseEmoji: "Elegir emoji {emoji}",
        chooseEmojiNamed: "Elegir emoji {emoji}: {name}",
        favoritesInUse: "Favoritos en uso",
        noMatches: "No hay emojis que coincidan con la busqueda.",
        selectedEmoji: "Emoji seleccionado: {emoji}",
      },
      ui: {
        toggle: {
          config: {
            tooltip: "Configuracion",
            open: "Abrir configuracion",
          },
          participants: {
            tooltip: "Participantes",
            open: "Abrir participantes",
          },
          stats: {
            tooltip: "Estadisticas",
            open: "Abrir estadisticas",
          },
          info: {
            tooltip: "Informacion",
            open: "Abrir informacion",
          },
        },
        wheel: {
          aria: "Rula de seleccion de nombres",
        },
        common: {
          closeConfig: "Cerrar configuracion",
          closeInfo: "Cerrar informacion",
          closeParticipants: "Cerrar participantes",
          closeReset: "Cerrar confirmacion",
          closeStats: "Cerrar estadisticas",
        },
        config: {
          autoTune: "Autoajustar posicion y tamano",
          autoTuneAria: "Autoajustar posicion y tamano del texto",
          backupExport: "Exportar respaldo",
          backupHint: "Acciones generales de configuracion y respaldo.",
          backupImport: "Importar configuracion",
          backupSection: "Datos y respaldo",
          heroTitleLabel: "Titulo de la rula",
          heroSubtitleLabel: "Subtitulo de la rula",
          heroTitlePlaceholder: "Toca Toca",
          heroSubtitlePlaceholder: "la suerte es loca",
          durationMaxAria: "Duracion maxima en segundos",
          durationMaxLabel: "Maximo (s)",
          durationMinAria: "Duracion minima en segundos",
          durationMinLabel: "Minimo (s)",
          emojiMode: "Emoji en nombre (rula)",
          fontOptionsAria: "Opciones de fuente",
          reduceMotion: "Reducir animaciones",
          reset: "Restablecer",
          textControls: "Tamano y seccion",
          textLayout: "Disposicion de nombres",
          title: "Configuracion",
          wheelFont: "Fuente de la rula",
          wheelSection: "Configuracion de rula",
          winAnimation: "Animacion al ganar",
          winAnimationHint: "Despues podes configurar una animacion individual para cada jugador en Participantes.",
          layout: {
            radial: "Radial (centro hacia afuera)",
            tangent: "Tangencial (siguiendo el aro)",
            horizontal: "Horizontal (siempre derecha)",
          },
          emoji: {
            both: "â†”ï¸ En ambos lados",
            prefix: "â¬…ï¸ Solo al inicio",
            suffix: "âž¡ï¸ Solo al final",
            none: "ðŸš« Sin emoji",
          },
        },
        participants: {
          add: "Agregar participante",
          animation: "Animacion",
          animationWithValue: "Animacion del participante {index}: {value}",
          bulk: "Carga masiva",
          equalize: "Igualar porcentajes",
          equalizeVisible: "Igualar porcentajes visibles",
          hideFromWheel: "Ocultar de la rula",
          hideSpecific: "Ocultar participante {index} de la rula",
          hint: "Nombre, emoji, color, porcentaje, animacion, visibilidad y seccion Tira otra vez",
          maxReached: "Se alcanzo el maximo de {max} participantes",
          name: "Nombre del participante {index}",
          needTwoVisible: "Se necesitan 2 visibles",
          needTwoVisibleEqualize: "Se necesitan al menos 2 visibles para igualar",
          percent: "Porcentaje del participante {index}",
          percentBlocked: "No editable mientras este oculto",
          pickColor: "Elegir color para participante {index}",
          pickEmoji: "Elegir emoji para participante {index}",
          remove: "Eliminar participante",
          removeSpecific: "Eliminar participante {index}",
          showInWheel: "Mostrar en la rula",
          showSpecific: "Mostrar participante {index} en la rula",
          title: "Participantes",
        },
        color: {
          cancel: "Cancelar cambios",
          confirm: "Confirmar color",
          hex: "Codigo hexadecimal",
          hexAria: "Color en formato hexadecimal",
          hint: "Elegi por grilla, RGB o codigo.",
          palette: "Paleta",
          paletteAria: "Seleccionar paleta de colores",
          random: "Elegir color aleatorio",
          randomShort: "Color aleatorio",
          title: "Elegir color",
          useColor: "Usar color {color}",
        },
        emoji: {
          cancel: "Cancelar cambios",
          confirm: "Confirmar emoji",
          custom: "Emoji personalizado",
          previewTitle: "Emoji seleccionado (toca para personalizar)",
          random: "Elegir emoji aleatorio",
          randomShort: "Emoji aleatorio",
          search: "Buscar",
          searchPlaceholder: "Filtrar por emoji, nombre o categoria",
          sectionsAria: "Lista de emojis por categoria",
          title: "Elegir emoji",
        },
        info: {
          builtWith: "Desarrollado con ayuda de",
          changelog: "Changelog",
          changelogNoTitle: "Sin titulo",
          contactBug: "Reportar bug",
          contactIdea: "Proponer idea",
          contactOpenIssues: "Ver issues abiertos",
          contactPrivacy: "Los issues son publicos. No compartas datos personales o sensibles.",
          contactText: "Si queres reportar algo o proponer mejoras, usa uno de estos canales.",
          contactTitle: "Contacto",
          createdBy: "Creado por",
          description: "Rula de nombres personalizable.",
          easterEgg: "Activar easter egg sorpresa",
          title: "Informacion",
          versionLabel: "Version actual:",
        },
        stats: {
          bestStreak: "Racha mas larga",
          lastTen: "Ultimas 10 salidas",
          lastWinner: "Ultimo en salir",
          title: "Estadisticas",
          totals: "Acumulado por jugador",
        },
        reset: {
          back: "Volver",
          config: "Configuracion",
          confirm: "Confirmar",
          history: "Historial",
          options: "Opciones",
          pickScope: "Elegi que queres restablecer.",
          title: "Confirmar restablecimiento",
          users: "Usuarios",
          warning: "Esta accion no se puede deshacer.",
        },
        bulk: {
          append: "Agregar a la lista actual",
          apply: "Aplicar",
          aria: "Lista de participantes para carga masiva",
          cancel: "Cancelar",
          close: "Cerrar carga masiva",
          mode: "Modo de carga",
          pasteList: "Pega una lista (una linea por participante)",
          placeholder: "ðŸ˜€ Alexei\nðŸ–¤ Polina\nGeneral\nAntonida",
          replace: "Reemplazar toda la lista",
          title: "Carga masiva de participantes",
        },
        export: {
          cancel: "Cancelar",
          close: "Cerrar opciones de exportacion",
          confirm: "Exportar",
          include: "Que incluir",
          includeConfig: "Incluir configuracion",
          includeStats: "Incluir estadisticas",
          title: "Exportar respaldo",
        },
        import: {
          apply: "Que aplicar",
          applyConfig: "Importar configuracion (si viene en el archivo)",
          applyStats: "Importar estadisticas (si vienen en el archivo)",
          cancel: "Cancelar",
          close: "Cerrar opciones de importacion",
          pickFile: "Elegir archivo",
          title: "Importar respaldo",
        },
      },
    },
    en: {
      app: {
        title: "Toca Toca",
        subtitle: "luck gets wild",
      },
      language: {
        label: "Language",
      },
      status: {
        tapToSpin: "Tap the wheel to spin.",
        spinning: "Spinning...",
        notEnoughVisibleToSpin: "Show at least 2 visible participants to spin.",
        noVisibleSections: "There are no visible wheel sections.",
        noValidWinner: "Could not resolve a valid winner.",
        winner: "{winnerLabel} won.",
        retrySpinAgain: "{retryLabel}. Spin again.",
        retryNobodyWins: "{retryLabel}. Nobody wins this round.",
        resetAllResult: "Everything reset. Ready to spin.",
        resetAppliedResult: "Reset applied: {joined}.",
      },
      messages: {
        addParticipantMax: "Maximum {max} participants per configuration.",
        addParticipantSuccess: "Participant added and percentages rebalanced.",
        autoTuneApplied: "Applied: position {position}% and font {fontSize}px.",
        autoTuneError: "Could not compute automatic text tuning.",
        autoTuneNoChange: "Position and font size were already optimized.",
        bulkAdded: "{count} participants were added from the list.",
        bulkNoAdded: "No participants were added (duplicates or limit reached).",
        bulkNoValidParticipants: "No valid participants found in the list.",
        bulkReplaceNeedsTwo: "At least 2 valid participants are required to replace.",
        bulkReplaceSuccess: "List replaced with {count} participants.",
        changelogEmpty: "No changelog entries found.",
        changelogLoadError: "Could not load changelog.md in this environment.",
        changelogLoading: "Loading changelog...",
        cookieFallback: "Cookie unavailable. Saved in local storage.",
        easterEggEnabled: "Argentinian easter egg enabled.",
        easterEggReduced: "Argentinian easter egg enabled (reduced animation).",
        easterEggRequiresIdle: "The easter egg only works when the wheel is idle.",
        equalizeNeedsTwoVisible: "The wheel needs at least 2 visible participants.",
        equalizeSuccess: "Participant percentages equalized.",
        exportSuccess: "Backup exported ({configText}, {statsText}).",
        importAppliedBoth: "Import applied: settings + stats.",
        importAppliedConfig: "Import applied: settings.",
        importAppliedStats: "Import applied: stats.",
        importFailed: "Could not import the selected file.",
        localSaveFailed: "Could not save local configuration.",
        removeNeedsTwo: "You cannot go below 2 participants.",
        removeSuccess: "Participant removed.",
        resetAllMessage: "Everything was reset.",
        resetAppliedMessage: "{joined} were reset.",
        selectAtLeastOneImportOption: "Select at least one option to import.",
        spinNeedsTwoVisible: "The wheel needs at least 2 visible participants.",
        spinNoVisibleForWinner: "There are no visible sections to spin.",
        spinNotEnoughSections: "There are not enough available sections to spin.",
        spinResolveError: "There was a problem recording the spin result.",
        spinResolveNoSections: "Could not resolve result because no sections are visible.",
      },
      labels: {
        defaultParticipant: "Player {index}",
        noDate: "No date",
        noHistory: "No winner history.",
        noHistoryYet: "There is no winner history yet.",
        noRecentHistoryYet: "No recent winners yet.",
        noStreak: "No active streak.",
        noStreaksRecorded: "No streaks recorded.",
        none: "No data",
        onFireStreak: "On fire x{count}.",
        removedFromWheel: "No longer in the wheel",
        resultRetryLabel: "Spin again",
        retryColor: "Color for the spin again section",
        retryFixedEmoji: "Fixed emoji for the spin again section",
        retryHide: "Hide spin again section from the wheel",
        retryPct: "Percentage for spin again",
        retryShow: "Show spin again section in the wheel",
        showLess: "Show less",
        showMore: "Show more ({count})",
      },
      controls: {
        durationRandom: "Random duration: {min}s - {max}s",
        fontFallback: "Font",
        fontSize: "Font size: {value}px",
        reduceMotionOff: "Full animations (rabbit mode)",
        reduceMotionOn: "Reduced animations (turtle mode)",
        soundOff: "Mute sound",
        soundOn: "Enable sound",
        textPosition: "Text position in section: {value}%",
      },
      table: {
        date: "Date",
        player: "Player",
        times: "Times",
        winner: "Winner",
      },
      resetScopes: {
        config: "settings",
        history: "history",
        users: "participants",
      },
      exportFlags: {
        configOff: "without settings",
        configOn: "with settings",
        statsOff: "without stats",
        statsOn: "with stats",
      },
      animations: {
        random: "Random",
        emojiRain: "Emoji rain (classic)",
        emojiRainExtreme: "Emoji rain (extreme)",
        emojiHose: "Emoji hose",
        fuegosArtificiales: "Fireworks",
        cartaBlanca: "FreeCell",
        cartaBlancaFreecell: "FreeCell (Classic)",
        emojiBounce: "Emoji bounce",
        confeti: "Confetti",
        estrellas: "Stars",
        neonPulse: "Neon pulse",
        participantGeneral: "General (use global setting)",
      },
      palettes: {
        vibrante: "Vibrant",
        pastel: "Pastel",
        calida: "Warm",
        fria: "Cool",
        tierra: "Earth",
        neon: "Neon",
        gris: "Grayscale",
      },
      emojis: {
        chooseEmoji: "Choose emoji {emoji}",
        chooseEmojiNamed: "Choose emoji {emoji}: {name}",
        favoritesInUse: "Favorites in use",
        noMatches: "No emojis match your search.",
        selectedEmoji: "Selected emoji: {emoji}",
      },
      ui: {
        toggle: {
          config: {
            tooltip: "Settings",
            open: "Open settings",
          },
          participants: {
            tooltip: "Participants",
            open: "Open participants",
          },
          stats: {
            tooltip: "Stats",
            open: "Open stats",
          },
          info: {
            tooltip: "Info",
            open: "Open info",
          },
        },
        wheel: {
          aria: "Name selection wheel",
        },
        common: {
          closeConfig: "Close settings",
          closeInfo: "Close info",
          closeParticipants: "Close participants",
          closeReset: "Close confirmation",
          closeStats: "Close stats",
        },
        config: {
          autoTune: "Auto tune position and size",
          autoTuneAria: "Auto tune text position and size",
          backupExport: "Export backup",
          backupHint: "General settings and backup actions.",
          backupImport: "Import settings",
          backupSection: "Data and backup",
          heroTitleLabel: "Wheel title",
          heroSubtitleLabel: "Wheel subtitle",
          heroTitlePlaceholder: "Toca Toca",
          heroSubtitlePlaceholder: "luck gets wild",
          durationMaxAria: "Maximum spin duration in seconds",
          durationMaxLabel: "Maximum (s)",
          durationMinAria: "Minimum spin duration in seconds",
          durationMinLabel: "Minimum (s)",
          emojiMode: "Emoji in name (wheel)",
          fontOptionsAria: "Font options",
          reduceMotion: "Reduce animations",
          reset: "Reset",
          textControls: "Size and section",
          textLayout: "Name layout",
          title: "Settings",
          wheelFont: "Wheel font",
          wheelSection: "Wheel settings",
          winAnimation: "Winner animation",
          winAnimationHint: "You can later set an individual animation for each participant in Participants.",
          layout: {
            radial: "Radial (center outward)",
            tangent: "Tangential (following rim)",
            horizontal: "Horizontal (always upright)",
          },
          emoji: {
            both: "â†”ï¸ On both sides",
            prefix: "â¬…ï¸ Only at start",
            suffix: "âž¡ï¸ Only at end",
            none: "ðŸš« No emoji",
          },
        },
        participants: {
          add: "Add participant",
          animation: "Animation",
          animationWithValue: "Animation for participant {index}: {value}",
          bulk: "Bulk load",
          equalize: "Equalize percentages",
          equalizeVisible: "Equalize visible percentages",
          hideFromWheel: "Hide from wheel",
          hideSpecific: "Hide participant {index} from wheel",
          hint: "Name, emoji, color, percentage, animation, visibility and spin again section",
          maxReached: "Maximum of {max} participants reached",
          name: "Participant {index} name",
          needTwoVisible: "At least 2 visible needed",
          needTwoVisibleEqualize: "At least 2 visible participants are needed to equalize",
          percent: "Participant {index} percentage",
          percentBlocked: "Disabled while hidden",
          pickColor: "Pick color for participant {index}",
          pickEmoji: "Pick emoji for participant {index}",
          remove: "Remove participant",
          removeSpecific: "Remove participant {index}",
          showInWheel: "Show in wheel",
          showSpecific: "Show participant {index} in wheel",
          title: "Participants",
        },
        color: {
          cancel: "Cancel changes",
          confirm: "Confirm color",
          hex: "Hex code",
          hexAria: "Color in hexadecimal format",
          hint: "Pick by grid, RGB or code.",
          palette: "Palette",
          paletteAria: "Select color palette",
          random: "Pick random color",
          randomShort: "Random color",
          title: "Pick color",
          useColor: "Use color {color}",
        },
        emoji: {
          cancel: "Cancel changes",
          confirm: "Confirm emoji",
          custom: "Custom emoji",
          previewTitle: "Selected emoji (tap to customize)",
          random: "Pick random emoji",
          randomShort: "Random emoji",
          search: "Search",
          searchPlaceholder: "Filter by emoji, name or category",
          sectionsAria: "Emoji list by category",
          title: "Pick emoji",
        },
        info: {
          builtWith: "Built with help from",
          changelog: "Changelog",
          changelogNoTitle: "Untitled",
          contactBug: "Report bug",
          contactIdea: "Suggest idea",
          contactOpenIssues: "View open issues",
          contactPrivacy: "Issues are public. Do not share personal or sensitive data.",
          contactText: "If you want to report something or propose improvements, use one of these channels.",
          contactTitle: "Contact",
          createdBy: "Created by",
          description: "Customizable name wheel.",
          easterEgg: "Trigger surprise easter egg",
          title: "Info",
          versionLabel: "Current version:",
        },
        stats: {
          bestStreak: "Longest streak",
          lastTen: "Last 10 results",
          lastWinner: "Latest winner",
          title: "Stats",
          totals: "Totals by participant",
        },
        reset: {
          back: "Back",
          config: "Settings",
          confirm: "Confirm",
          history: "History",
          options: "Options",
          pickScope: "Choose what to reset.",
          title: "Confirm reset",
          users: "Participants",
          warning: "This action cannot be undone.",
        },
        bulk: {
          append: "Add to current list",
          apply: "Apply",
          aria: "Participant list for bulk load",
          cancel: "Cancel",
          close: "Close bulk load",
          mode: "Load mode",
          pasteList: "Paste a list (one line per participant)",
          placeholder: "ðŸ˜€ Alexei\nðŸ–¤ Polina\nGeneral\nAntonida",
          replace: "Replace entire list",
          title: "Bulk participant load",
        },
        export: {
          cancel: "Cancel",
          close: "Close export options",
          confirm: "Export",
          include: "What to include",
          includeConfig: "Include settings",
          includeStats: "Include stats",
          title: "Export backup",
        },
        import: {
          apply: "What to apply",
          applyConfig: "Import settings (if present in file)",
          applyStats: "Import stats (if present in file)",
          cancel: "Cancel",
          close: "Close import options",
          pickFile: "Choose file",
          title: "Import backup",
        },
      },
    },
    "pt-BR": {
      app: {
        title: "Toca Toca",
        subtitle: "a sorte fica maluca",
      },
      language: {
        label: "Idioma",
      },
      status: {
        tapToSpin: "Toque na roleta para girar.",
        spinning: "Girando...",
        notEnoughVisibleToSpin: "Mostre pelo menos 2 participantes visiveis para girar.",
        noVisibleSections: "Nao ha secoes visiveis na roleta.",
        noValidWinner: "Nao foi possivel definir um vencedor valido.",
        winner: "{winnerLabel} ganhou.",
        retrySpinAgain: "{retryLabel}. Gire novamente.",
        retryNobodyWins: "{retryLabel}. Ninguem ganha nesta rodada.",
        resetAllResult: "Tudo redefinido. Pronto para girar.",
        resetAppliedResult: "Redefinicao aplicada: {joined}.",
      },
      messages: {
        addParticipantMax: "Maximo de {max} participantes por configuracao.",
        addParticipantSuccess: "Participante adicionado e percentuais equilibrados.",
        autoTuneApplied: "Ajuste aplicado: posicao {position}% e fonte {fontSize}px.",
        autoTuneError: "Nao foi possivel calcular o ajuste automatico.",
        autoTuneNoChange: "A posicao e o tamanho da fonte ja estavam otimizados.",
        bulkAdded: "{count} participantes foram adicionados da lista.",
        bulkNoAdded: "Nenhum participante foi adicionado (duplicados ou limite atingido).",
        bulkNoValidParticipants: "Nenhum participante valido foi encontrado na lista.",
        bulkReplaceNeedsTwo: "Para substituir, sao necessarios pelo menos 2 participantes validos.",
        bulkReplaceSuccess: "Lista substituida com {count} participantes.",
        changelogEmpty: "Nao ha entradas no changelog.",
        changelogLoadError: "Nao foi possivel carregar changelog.md neste ambiente.",
        changelogLoading: "Carregando changelog...",
        cookieFallback: "Cookie indisponivel. Salvo no armazenamento local.",
        easterEggEnabled: "Easter egg argentino ativado.",
        easterEggReduced: "Easter egg argentino ativado (animacao reduzida).",
        easterEggRequiresIdle: "O easter egg so funciona com a roleta parada.",
        equalizeNeedsTwoVisible: "A roleta precisa de pelo menos 2 participantes visiveis.",
        equalizeSuccess: "Percentuais dos participantes igualados.",
        exportSuccess: "Backup exportado ({configText}, {statsText}).",
        importAppliedBoth: "Importacao aplicada: configuracao + estatisticas.",
        importAppliedConfig: "Importacao aplicada: configuracao.",
        importAppliedStats: "Importacao aplicada: estatisticas.",
        importFailed: "Nao foi possivel importar o arquivo selecionado.",
        localSaveFailed: "Nao foi possivel salvar a configuracao local.",
        removeNeedsTwo: "Nao e possivel ficar com menos de 2 participantes.",
        removeSuccess: "Participante removido.",
        resetAllMessage: "Tudo foi redefinido.",
        resetAppliedMessage: "Redefinido: {joined}.",
        selectAtLeastOneImportOption: "Selecione pelo menos uma opcao para importar.",
        spinNeedsTwoVisible: "A roleta precisa de pelo menos 2 participantes visiveis.",
        spinNoVisibleForWinner: "Nao ha secoes visiveis para girar.",
        spinNotEnoughSections: "Nao ha secoes suficientes para girar.",
        spinResolveError: "Ocorreu um problema ao registrar o resultado do giro.",
        spinResolveNoSections: "Nao foi possivel resolver o resultado porque nao ha secoes visiveis.",
      },
      labels: {
        defaultParticipant: "Jogador {index}",
        noDate: "Sem data",
        noHistory: "Sem historico de vencedores.",
        noHistoryYet: "Ainda nao ha historico de vencedores.",
        noRecentHistoryYet: "Ainda nao ha vencedores recentes.",
        noStreak: "Sem sequencia ativa.",
        noStreaksRecorded: "Nenhuma sequencia registrada.",
        none: "Sem dados",
        onFireStreak: "Em sequencia x{count}.",
        removedFromWheel: "Ja nao esta na roleta",
        resultRetryLabel: "Gire novamente",
        retryColor: "Cor da secao de girar novamente",
        retryFixedEmoji: "Emoji fixo da secao de girar novamente",
        retryHide: "Ocultar secao de girar novamente da roleta",
        retryPct: "Percentual de girar novamente",
        retryShow: "Mostrar secao de girar novamente na roleta",
        showLess: "Ver menos",
        showMore: "Ver mais ({count})",
      },
      controls: {
        durationRandom: "Duracao aleatoria: {min}s - {max}s",
        fontFallback: "Fonte",
        fontSize: "Tamanho da fonte: {value}px",
        reduceMotionOff: "Animacoes completas (modo coelho)",
        reduceMotionOn: "Animacoes reduzidas (modo tartaruga)",
        soundOff: "Silenciar som",
        soundOn: "Ativar som",
        textPosition: "Posicao do texto na secao: {value}%",
      },
      table: {
        date: "Data",
        player: "Jogador",
        times: "Vezes",
        winner: "Vencedor",
      },
      resetScopes: {
        config: "configuracao",
        history: "historico",
        users: "participantes",
      },
      exportFlags: {
        configOff: "sem configuracao",
        configOn: "com configuracao",
        statsOff: "sem estatisticas",
        statsOn: "com estatisticas",
      },
      animations: {
        random: "Aleatorio",
        emojiRain: "Chuva de emojis (classica)",
        emojiRainExtreme: "Chuva de emojis (extrema)",
        emojiHose: "Mangueira de emojis",
        fuegosArtificiales: "Fogos de artificio",
        cartaBlanca: "FreeCell",
        cartaBlancaFreecell: "FreeCell (Classic)",
        emojiBounce: "Quique de emoji",
        confeti: "Confete",
        estrellas: "Estrelas",
        neonPulse: "Pulso neon",
        participantGeneral: "Geral (usar ajuste global)",
      },
      palettes: {
        vibrante: "Vibrante",
        pastel: "Pastel",
        calida: "Quente",
        fria: "Fria",
        tierra: "Terra",
        neon: "Neon",
        gris: "Escala de cinza",
      },
      emojis: {
        chooseEmoji: "Escolher emoji {emoji}",
        chooseEmojiNamed: "Escolher emoji {emoji}: {name}",
        favoritesInUse: "Favoritos em uso",
        noMatches: "Nenhum emoji corresponde a busca.",
        selectedEmoji: "Emoji selecionado: {emoji}",
      },
      ui: {
        toggle: {
          config: {
            tooltip: "Configuracao",
            open: "Abrir configuracao",
          },
          participants: {
            tooltip: "Participantes",
            open: "Abrir participantes",
          },
          stats: {
            tooltip: "Estatisticas",
            open: "Abrir estatisticas",
          },
          info: {
            tooltip: "Informacoes",
            open: "Abrir informacoes",
          },
        },
        wheel: {
          aria: "Roleta de selecao de nomes",
        },
        common: {
          closeConfig: "Fechar configuracao",
          closeInfo: "Fechar informacoes",
          closeParticipants: "Fechar participantes",
          closeReset: "Fechar confirmacao",
          closeStats: "Fechar estatisticas",
        },
        config: {
          autoTune: "Autoajustar posicao e tamanho",
          autoTuneAria: "Autoajustar posicao e tamanho do texto",
          backupExport: "Exportar backup",
          backupHint: "Acoes gerais de configuracao e backup.",
          backupImport: "Importar configuracao",
          backupSection: "Dados e backup",
          heroTitleLabel: "Titulo da roleta",
          heroSubtitleLabel: "Subtitulo da roleta",
          heroTitlePlaceholder: "Toca Toca",
          heroSubtitlePlaceholder: "a sorte fica maluca",
          durationMaxAria: "Duracao maxima de giro em segundos",
          durationMaxLabel: "Maximo (s)",
          durationMinAria: "Duracao minima de giro em segundos",
          durationMinLabel: "Minimo (s)",
          emojiMode: "Emoji no nome (roleta)",
          fontOptionsAria: "Opcoes de fonte",
          reduceMotion: "Reduzir animacoes",
          reset: "Redefinir",
          textControls: "Tamanho e secao",
          textLayout: "Disposicao de nomes",
          title: "Configuracao",
          wheelFont: "Fonte da roleta",
          wheelSection: "Configuracao da roleta",
          winAnimation: "Animacao ao ganhar",
          winAnimationHint: "Depois voce pode definir uma animacao individual para cada jogador em Participantes.",
          layout: {
            radial: "Radial (do centro para fora)",
            tangent: "Tangencial (seguindo o aro)",
            horizontal: "Horizontal (sempre reto)",
          },
          emoji: {
            both: "â†”ï¸ Nos dois lados",
            prefix: "â¬…ï¸ Somente no inicio",
            suffix: "âž¡ï¸ Somente no final",
            none: "ðŸš« Sem emoji",
          },
        },
        participants: {
          add: "Adicionar participante",
          animation: "Animacao",
          animationWithValue: "Animacao do participante {index}: {value}",
          bulk: "Carga em massa",
          equalize: "Igualar percentuais",
          equalizeVisible: "Igualar percentuais visiveis",
          hideFromWheel: "Ocultar da roleta",
          hideSpecific: "Ocultar participante {index} da roleta",
          hint: "Nome, emoji, cor, percentual, animacao, visibilidade e secao Gire novamente",
          maxReached: "Limite de {max} participantes atingido",
          name: "Nome do participante {index}",
          needTwoVisible: "Sao necessarios 2 visiveis",
          needTwoVisibleEqualize: "Sao necessarios pelo menos 2 visiveis para igualar",
          percent: "Percentual do participante {index}",
          percentBlocked: "Desativado enquanto estiver oculto",
          pickColor: "Escolher cor do participante {index}",
          pickEmoji: "Escolher emoji do participante {index}",
          remove: "Remover participante",
          removeSpecific: "Remover participante {index}",
          showInWheel: "Mostrar na roleta",
          showSpecific: "Mostrar participante {index} na roleta",
          title: "Participantes",
        },
        color: {
          cancel: "Cancelar alteracoes",
          confirm: "Confirmar cor",
          hex: "Codigo hexadecimal",
          hexAria: "Cor em formato hexadecimal",
          hint: "Escolha por grade, RGB ou codigo.",
          palette: "Paleta",
          paletteAria: "Selecionar paleta de cores",
          random: "Escolher cor aleatoria",
          randomShort: "Cor aleatoria",
          title: "Escolher cor",
          useColor: "Usar cor {color}",
        },
        emoji: {
          cancel: "Cancelar alteracoes",
          confirm: "Confirmar emoji",
          custom: "Emoji personalizado",
          previewTitle: "Emoji selecionado (toque para personalizar)",
          random: "Escolher emoji aleatorio",
          randomShort: "Emoji aleatorio",
          search: "Buscar",
          searchPlaceholder: "Filtrar por emoji, nome ou categoria",
          sectionsAria: "Lista de emojis por categoria",
          title: "Escolher emoji",
        },
        info: {
          builtWith: "Desenvolvido com ajuda de",
          changelog: "Changelog",
          changelogNoTitle: "Sem titulo",
          contactBug: "Reportar bug",
          contactIdea: "Sugerir ideia",
          contactOpenIssues: "Ver issues abertos",
          contactPrivacy: "Os issues sao publicos. Nao compartilhe dados pessoais ou sensiveis.",
          contactText: "Se voce quiser reportar algo ou propor melhorias, use um destes canais.",
          contactTitle: "Contato",
          createdBy: "Criado por",
          description: "Roleta de nomes personalizavel.",
          easterEgg: "Ativar easter egg surpresa",
          title: "Informacoes",
          versionLabel: "Versao atual:",
        },
        stats: {
          bestStreak: "Maior sequencia",
          lastTen: "Ultimos 10 resultados",
          lastWinner: "Ultimo vencedor",
          title: "Estatisticas",
          totals: "Acumulado por jogador",
        },
        reset: {
          back: "Voltar",
          config: "Configuracao",
          confirm: "Confirmar",
          history: "Historico",
          options: "Opcoes",
          pickScope: "Escolha o que deseja redefinir.",
          title: "Confirmar redefinicao",
          users: "Participantes",
          warning: "Esta acao nao pode ser desfeita.",
        },
        bulk: {
          append: "Adicionar a lista atual",
          apply: "Aplicar",
          aria: "Lista de participantes para carga em massa",
          cancel: "Cancelar",
          close: "Fechar carga em massa",
          mode: "Modo de carga",
          pasteList: "Cole uma lista (uma linha por participante)",
          placeholder: "ðŸ˜€ Alexei\nðŸ–¤ Polina\nGeneral\nAntonida",
          replace: "Substituir toda a lista",
          title: "Carga em massa de participantes",
        },
        export: {
          cancel: "Cancelar",
          close: "Fechar opcoes de exportacao",
          confirm: "Exportar",
          include: "O que incluir",
          includeConfig: "Incluir configuracao",
          includeStats: "Incluir estatisticas",
          title: "Exportar backup",
        },
        import: {
          apply: "O que aplicar",
          applyConfig: "Importar configuracao (se existir no arquivo)",
          applyStats: "Importar estatisticas (se existirem no arquivo)",
          cancel: "Cancelar",
          close: "Fechar opcoes de importacao",
          pickFile: "Escolher arquivo",
          title: "Importar backup",
        },
      },
    },
  };

  function getByPath(source, path) {
    if (!source || typeof source !== "object" || typeof path !== "string") {
      return undefined;
    }
    return path.split(".").reduce((value, chunk) => {
      if (!value || typeof value !== "object") {
        return undefined;
      }
      return value[chunk];
    }, source);
  }

  function interpolate(template, params = {}) {
    return String(template).replace(/\{([a-zA-Z0-9_]+)\}/g, (full, key) => {
      if (!Object.prototype.hasOwnProperty.call(params, key)) {
        return full;
      }
      return String(params[key]);
    });
  }

  function sanitizeLanguage(rawValue, fallback = DEFAULT_LANGUAGE) {
    const fallbackLanguage = SUPPORTED_LANGUAGES.includes(fallback) ? fallback : DEFAULT_LANGUAGE;
    if (typeof rawValue !== "string" || !rawValue.trim()) {
      return fallbackLanguage;
    }
    const value = rawValue.trim();
    if (SUPPORTED_LANGUAGES.includes(value)) {
      return value;
    }
    const normalized = value.toLowerCase().replace("_", "-");
    if (normalized === "pt" || normalized === "pt-br") {
      return "pt-BR";
    }
    if (normalized.startsWith("pt-")) {
      return "pt-BR";
    }
    if (normalized === "en" || normalized.startsWith("en-")) {
      return "en";
    }
    if (normalized === "es" || normalized.startsWith("es-")) {
      return "es";
    }
    return fallbackLanguage;
  }

  function detectPreferredLanguage(preferredValues) {
    const candidates =
      Array.isArray(preferredValues) && preferredValues.length > 0
        ? preferredValues
        : Array.isArray(globalObject?.navigator?.languages) && globalObject.navigator.languages.length > 0
          ? globalObject.navigator.languages
          : [globalObject?.navigator?.language].filter(Boolean);
    for (let index = 0; index < candidates.length; index += 1) {
      const candidate = sanitizeLanguage(candidates[index], "");
      if (candidate && SUPPORTED_LANGUAGES.includes(candidate)) {
        return candidate;
      }
    }
    return DEFAULT_LANGUAGE;
  }

  function toLocale(language) {
    const safeLanguage = sanitizeLanguage(language);
    if (safeLanguage === "pt-BR") {
      return "pt-BR";
    }
    if (safeLanguage === "en") {
      return "en-US";
    }
    return "es";
  }

  function t(language, key, params = {}) {
    const safeLanguage = sanitizeLanguage(language);
    const direct = getByPath(TRANSLATIONS[safeLanguage], key);
    if (typeof direct === "string") {
      return interpolate(direct, params);
    }
    const fallback = getByPath(TRANSLATIONS[DEFAULT_LANGUAGE], key);
    if (typeof fallback === "string") {
      return interpolate(fallback, params);
    }
    return key;
  }

  globalObject.TocaTocaI18n = {
    DEFAULT_LANGUAGE,
    SUPPORTED_LANGUAGES,
    LANGUAGE_OPTIONS,
    sanitizeLanguage,
    detectPreferredLanguage,
    toLocale,
    t,
  };
})(globalThis);
